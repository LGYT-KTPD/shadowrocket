# Shadowrocket: å¤–å‡ºç”¨ï¼ˆWireGuardå›å®¶ç‰ˆÂ·ä¼˜åŒ–ç‰ˆï¼‰
# Version: 2025-11-01-r1  â€” ä¼˜åŒ– fake-ip + å±€åŸŸç½‘ + ç¿»è¯‘/Lens å…¼å®¹

[General]
bypass-system = true
skip-proxy = 10.0.0.0/8,172.16.0.0/12,localhost,*.local,captive.apple.com
tun-included-routes = 192.168.1.0/24
tun-excluded-routes = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32,239.255.255.250/32
icmp-auto-reply = true
always-reject-url-rewrite = false
ipv6 = false
prefer-ipv6 = false

# ---------- DNSå¢å¼ºæ¨¡å— ----------
[dns]
enable = true
listen = 0.0.0.0:53
enhanced-mode = fake-ip
# ä¸»DNSï¼ˆå¢ƒå¤–DoH + å…¬ç½‘æ··åˆï¼‰
nameserver = 
  https://dns.google/dns-query,
  https://cloudflare-dns.com/dns-query,
  1.1.1.1,
  8.8.8.8
# å¤‡ç”¨DNSï¼ˆå¢ƒå†…DoH + å…¬ç½‘æ··åˆï¼‰
fallback = 
  https://dns.alidns.com/dns-query,
  1.0.0.1,
  9.9.9.9
# å‡IPç™½åå•ï¼ˆé˜²æ­¢å±€åŸŸç½‘ä¸ç³»ç»ŸæœåŠ¡å†²çªï¼‰
fake-ip-filter = 
  *.lan,
  *.localdomain,
  *.local,
  time.apple.com,
  *.miwifi.com,
  *.tplinkwifi.net,
  routerlogin.net,
  *.google.com,
  *.googleapis.com,
  *.gstatic.com,
  *.srv.nintendo.net,
  captive.apple.com

update-url = https://raw.githubusercontent.com/LGYT-KTPD/shadowrocket/refs/heads/main/Shadowrocket_WG_fake-ip.conf

[Proxy Group]
â™»ï¸ è‡ªåŠ¨é€‰æ‹© = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = ^(?!.*(WG|WireGuard|å›å®¶|å®¶åº­|home)).*$
ğŸš€ æ‰‹åŠ¨åˆ‡æ¢ = select, policy-regex-filter = .
ğŸš€ èŠ‚ç‚¹é€‰æ‹© = select, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸš€ æ‰‹åŠ¨åˆ‡æ¢, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹, ğŸ‡²ğŸ‡¾ é©¬æ¥èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ§­ å°ä¼—èŠ‚ç‚¹, DIRECT
ğŸ¤– OpenAI = select, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
âœˆï¸ è°·æ­ŒæœåŠ¡ = select, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, DIRECT
ğŸ“¨ ç”µæŠ¥æ¶ˆæ¯ = select, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
ğŸ“º æ²¹ç®¡è§†é¢‘ = select, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
ğŸ¬ å¥ˆé£è§†é¢‘ = select, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹
ğŸ AppleæœåŠ¡ = select, DIRECT, â™»ï¸ è‡ªåŠ¨é€‰æ‹©
ğŸŒ å…¨çƒç›´è¿ = select, DIRECT, â™»ï¸ è‡ªåŠ¨é€‰æ‹©
ğŸ§± å¹¿å‘Šæ‹¦æˆª = select, REJECT, DIRECT
ğŸŸ æ¼ç½‘ä¹‹é±¼ = select, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸš€ æ‰‹åŠ¨åˆ‡æ¢, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, DIRECT

# åœ°åŸŸæµ‹é€Ÿç»„
ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡­ğŸ‡°|HK|Hong|æ¸¯|Hong Kong)
ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡¯ğŸ‡µ|JP|Japan|æ—¥|æ—¥æœ¬)
ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡¸ğŸ‡¬|SG|Singapore|æ–°|ç‹®åŸ)
ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡ºğŸ‡¸|US|States|United States|ç¾|ç¾å›½)
ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡¨ğŸ‡¦|CA|Canada|åŠ |åŠ æ‹¿å¤§)
ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (å°|TW|Taiwan|HINET|æ–°åŒ—|å°åŒ—|ä¸­åç”µä¿¡)
ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡¬ğŸ‡§|UK|United Kingdom|è‹±|ä¼¦æ•¦|London|GB)
ğŸ‡²ğŸ‡¾ é©¬æ¥èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡²ğŸ‡¾|MY|Malaysia|é©¬|é©¬æ¥)
ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 80, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡°ğŸ‡·|KR|Korea|éŸ©|éŸ©å›½)
ğŸ§­ å°ä¼—èŠ‚ç‚¹ = url-test, interval = 600, timeout = 8, tolerance = 120, url = http://www.gstatic.com/generate_204, policy-regex-filter = (ğŸ‡·ğŸ‡º|RU|Russia|ğŸ‡¹ğŸ‡·|TR|Turkey|ğŸ‡®ğŸ‡³|IN|India|ğŸ‡©ğŸ‡ª|DE|Germany|å¾·å›½|ğŸ‡«ğŸ‡·|FR|France|æ³•å›½|ğŸ‡³ğŸ‡±|NL|Netherlands|è·å…°|ğŸ‡»ğŸ‡³|VN|Vietnam|è¶Šå—|ğŸ‡¹ğŸ‡­|TH|Thailand|æ³°å›½|ğŸ‡µğŸ‡­|PH|Philippines|è²å¾‹å®¾|ğŸ‡§ğŸ‡·|BR|Brazil|å·´è¥¿|ğŸ‡¦ğŸ‡·|AR|Argentina|é˜¿æ ¹å»·|ğŸ‡ªğŸ‡¸|ES|Spain|è¥¿ç­ç‰™|ğŸ‡®ğŸ‡¹|IT|Italy|æ„å¤§åˆ©|ğŸ‡®ğŸ‡±|IL|Israel|ä»¥è‰²åˆ—|ğŸ‡¦ğŸ‡º|AU|Australia|æ¾³å¤§åˆ©äºš|ğŸ‡³ğŸ‡¿|NZ|New Zealand|æ–°è¥¿å…°|ğŸ‡¿ğŸ‡¦|ZA|South Africa|å—é|ğŸ‡ªğŸ‡¬|EG|Egypt|åŸƒåŠ|ğŸ‡«ğŸ‡®|FI|Finland|èŠ¬å…°|ğŸ‡¸ğŸ‡ª|SE|Sweden|ç‘å…¸|ğŸ‡³ğŸ‡´|NO|Norway|æŒªå¨|ğŸ‡©ğŸ‡°|DK|Denmark|ä¸¹éº¦|ğŸ‡µğŸ‡±|PL|Poland|æ³¢å…°|ğŸ‡¨ğŸ‡¿|CZ|Czech|æ·å…‹|ğŸ‡¦ğŸ‡¹|AT|Austria|å¥¥åœ°åˆ©|ğŸ‡¨ğŸ‡±|CL|Chile|æ™ºåˆ©|ğŸ‡µğŸ‡ª|PE|Peru|ç§˜é²|ğŸ‡²ğŸ‡½|MX|Mexico|å¢¨è¥¿å“¥|ğŸ‡¨ğŸ‡´|CO|Colombia|å“¥ä¼¦æ¯”äºš|ğŸ‡±ğŸ‡º|LU|Luxembourg|å¢æ£®å ¡)

[Rule]
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list, ğŸ§± å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list, ğŸ§± å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list, ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list, ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list, ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaIp.list, ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list, âœˆï¸ è°·æ­ŒæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Google.list, âœˆï¸ è°·æ­ŒæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list, ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list, ğŸ AppleæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list, ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list, ğŸ“¨ ç”µæŠ¥æ¶ˆæ¯
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list, ğŸ¤– OpenAI
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list, ğŸ“º æ²¹ç®¡è§†é¢‘
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list, ğŸ¬ å¥ˆé£è§†é¢‘
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list, ğŸ“º æ²¹ç®¡è§†é¢‘
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list, ğŸŒ å…¨çƒç›´è¿
# æ‰‹åŠ¨è¡¥å……ç¿»è¯‘ä¸Lensä¿®å¤
DOMAIN-SUFFIX,translate.google.com, âœˆï¸ è°·æ­ŒæœåŠ¡
DOMAIN-SUFFIX,translate.googleapis.com, âœˆï¸ è°·æ­ŒæœåŠ¡
DOMAIN-SUFFIX,translate-pa.googleapis.com, âœˆï¸ è°·æ­ŒæœåŠ¡
DOMAIN-SUFFIX,lens.google.com, âœˆï¸ è°·æ­ŒæœåŠ¡
DOMAIN-SUFFIX,lens-pa.googleapis.com, âœˆï¸ è°·æ­ŒæœåŠ¡
DOMAIN-SUFFIX,clients4.google.com, âœˆï¸ è°·æ­ŒæœåŠ¡
DOMAIN-SUFFIX,clients2.google.com, âœˆï¸ è°·æ­ŒæœåŠ¡
DOMAIN-SUFFIX,mtalk.google.com, âœˆï¸ è°·æ­ŒæœåŠ¡

IP-CIDR,192.168.1.0/24, wireguardè·¯ç”±å™¨, no-resolve
GEOIP,CN, ğŸŒ å…¨çƒç›´è¿, no-resolve
FINAL, ğŸŸ æ¼ç½‘ä¹‹é±¼

[Host]
localhost = 127.0.0.1

[URL Rewrite]
^https?://(www\.)?g\.cn https://www.google.com 302
^https?://(www\.)?google\.cn https://www.google.com 302
